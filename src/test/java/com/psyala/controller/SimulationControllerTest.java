package com.psyala.controller;

import com.psyala.model.sim.Simulation;
import com.psyala.model.sim.SimulationResult;
import com.psyala.model.wow.WowClass;
import com.psyala.model.wow.WowSpec;
import junit.framework.TestCase;
import org.junit.Assert;
import org.junit.Test;

public class SimulationControllerTest extends TestCase {

    @Test
    public void testConvert() {
        String json = "{\"version\":\"915-01\",\"report_version\":\"2.0.0\",\"ptr_enabled\":1,\"beta_enabled\":0,\"build_date\":\"Dec 28 2021\",\"build_time\":\"00:49:43\",\"timestamp\":1641013855,\"git_revision\":\"f0b29f0\",\"git_branch\":\"shadowlands\",\"sim\":{\"options\":{\"debug\":false,\"max_time\":300.0,\"expected_iteration_time\":296.982,\"vary_combat_length\":0.2,\"iterations\":4421,\"target_error\":0.1,\"threads\":8,\"seed\":9399928041550001958,\"single_actor_batch\":true,\"queue_lag\":0.005,\"queue_lag_stddev\":0.001,\"gcd_lag\":0.15,\"gcd_lag_stddev\":0.037,\"channel_lag\":0.25,\"channel_lag_stddev\":0.062,\"queue_gcd_reduction\":0.1,\"strict_gcd_queue\":false,\"confidence\":0.95,\"confidence_estimator\":1.9599639854088815,\"world_lag\":0.1,\"world_lag_stddev\":0.01,\"travel_variance\":0.0,\"default_skill\":1.0,\"reaction_time\":0.5,\"regen_periodicity\":0.25,\"ignite_sampling_delta\":0.2,\"fixed_time\":true,\"optimize_expressions\":2,\"optimal_raid\":1,\"log\":0,\"debug_each\":0,\"stat_cache\":1,\"max_aoe_enemies\":20,\"show_etmi\":false,\"tmi_window_global\":0.0,\"tmi_bin_size\":0.5,\"enemy_death_pct\":0.0,\"challenge_mode\":false,\"timewalk\":-1,\"pvp_crit\":false,\"rng\":{\"name\":\"xoshiro256+\"},\"deterministic\":0,\"average_range\":1,\"average_gauss\":0,\"fight_style\":\"Patchwerk\",\"default_aura_delay\":0.03,\"default_aura_delay_stddev\":0.005,\"dbc\":{\"Live\":{\"build_level\":41359,\"wow_version\":\"9.1.5.41359\",\"hotfix_date\":\"2021-12-14\",\"hotfix_build\":41359,\"hotfix_hash\":\"4bf75f1e62d6732f6bc967d22e7007353b3bdef88629889e5beb4f224839aa24\"},\"PTR\":{\"build_level\":41462,\"wow_version\":\"9.2.0.41462\",\"hotfix_date\":\"2021-12-18\",\"hotfix_build\":41462,\"hotfix_hash\":\"3bf70e80f42008393b504e0a9fc874f5a4ba18eb2a9fffc80f332c20b87e5f28\"},\"version_used\":\"Live\"}},\"overrides\":{\"arcane_intellect\":1,\"battle_shout\":1,\"power_word_fortitude\":1,\"chaos_brand\":1,\"mystic_touch\":1,\"mortal_wounds\":1,\"bleeding\":1,\"bloodlust\":1},\"players\":[{\"name\":\"base\",\"race\":\"orc\",\"level\":60,\"role\":\"spell\",\"specialization\":\"Affliction Warlock\",\"profile_source\":\"default\",\"talents\":[{\"tier\":1,\"id\":23141,\"spell_id\":198590,\"name\":\"Drain Soul\"},{\"tier\":2,\"id\":22089,\"spell_id\":63106,\"name\":\"Siphon Life\"},{\"tier\":4,\"id\":19292,\"spell_id\":205179,\"name\":\"Phantom Singularity\"},{\"tier\":6,\"id\":23159,\"spell_id\":48181,\"name\":\"Haunt\"},{\"tier\":7,\"id\":19293,\"spell_id\":113860,\"name\":\"Dark Soul: Misery\"}],\"party\":0,\"ready_type\":0,\"bugs\":true,\"scale_player\":true,\"potion_used\":false,\"timeofday\":\"DAY_TIME\",\"zandalari_loa\":\"paku\",\"vulpera_tricks\":\"corrosive\",\"invert_scaling\":0,\"reaction_offset\":0.1,\"reaction_max\":1.4000000000000001,\"reaction_mean\":0.25,\"reaction_stddev\":0.05,\"reaction_nu\":0.15,\"world_lag\":0.1,\"brain_lag\":0.0,\"brain_lag_stddev\":0.0,\"world_lag_override\":false,\"world_lag_stddev_override\":false,\"dbc\":{\"Live\":{\"build_level\":41359,\"wow_version\":\"9.1.5.41359\",\"hotfix_date\":\"2021-12-14\",\"hotfix_build\":41359,\"hotfix_hash\":\"4bf75f1e62d6732f6bc967d22e7007353b3bdef88629889e5beb4f224839aa24\"},\"PTR\":{\"build_level\":41462,\"wow_version\":\"9.2.0.41462\",\"hotfix_date\":\"2021-12-18\",\"hotfix_build\":41462,\"hotfix_hash\":\"3bf70e80f42008393b504e0a9fc874f5a4ba18eb2a9fffc80f332c20b87e5f28\"},\"version_used\":\"Live\"},\"base_mana_regen_per_second\":500.0,\"collected_data\":{\"fight_length\":{\"sum\":1327227.765000004,\"count\":4413,\"mean\":300.75408225696896,\"min\":240.013,\"max\":359.991,\"median\":300.587,\"variance\":1224.362354059177,\"std_dev\":34.99088958656492,\"mean_variance\":0.2774444491409873,\"mean_std_dev\":0.526729958461627},\"executed_foreground_actions\":{\"sum\":946609.0,\"count\":4413,\"mean\":214.5046453659642,\"min\":167.0,\"max\":258.0},\"dmg\":{\"sum\":12190573488.55456,\"count\":4413,\"mean\":2762423.178915604,\"min\":2080885.5899368708,\"max\":3312758.653612031},\"compound_dmg\":{\"sum\":13947426592.944,\"count\":4413,\"mean\":3160531.745511897,\"min\":2383768.8749921448,\"max\":3756435.245386515},\"timeline_dmg\":{\"mean\":10461.107692654497,\"mean_std_dev\":390.3119284534156,\"min\":0.0,\"max\":39345.444225877574,\"data\":[0.0,2473.775656850369,967.3275273832204,4666.428144115985,7809.1038206015555,4804.627092985558,5113.16951130546,11232.774341386557,31285.807020121527,34646.95275653135,39345.444225877574,36469.45866680624,30224.72735999766,26271.57207357381,33877.4695190141,21920.7240260313,33194.08724409616,31370.481490473594,27446.115207784325,34601.761074273345,25790.13597155706,19827.372625784497,19927.6058717995,19160.513319933663,14037.874417563151,11215.884527166532,14337.444043344398,9598.34122118551,11888.020812124067,9268.03541950418,10826.530498926079,7492.765054141683,8663.597137239472,12401.881685440843,10045.488642662765,7587.811402268217,7152.378447354537,3934.600064504089,9970.513704612418,6466.488223718477,7329.7941036428865,6861.5645946133245,8339.520363178313,8781.899306638328,7526.609594183971,6768.089735155631,4728.831903121608,5665.3214247084625,4693.021000819044,5829.346641564314,8674.679223196355,3210.8611745658723,2867.548976075225,6375.765125308603,6811.0708282222295,4851.26137568112,7378.854776743043,3423.818000628946,4249.9520809957285,5172.891925054975,5593.643997520992,5893.470810505892,4864.235621822243,5849.22156863666,4215.471192471736,2078.3423367627206,6412.707889787852,2027.4425629231794,3080.496750033627,7451.0133482895335,8257.985217594916,9897.191330485133,23134.640239036973,20735.755667399644,19338.124952458307,18094.051288004026,9663.391345256428,12808.726033171974,13565.357277451447,9799.342563615803,4956.603378043788,8139.212516337942,9384.22148416533,7978.634155158807,9645.550250592367,8158.1103570116875,8288.247791128588,7360.961513917245,5224.497442450499,6089.691879085086,10156.092522226145,6498.899445418076,7504.371782683795,8086.6750707377805,4464.740300131713,3023.0195284357847,6639.136424732537,7458.066463225022,8519.51581728549,8374.490125549342,9373.509471898336,7907.81544458681,7279.816347992718,9108.930392170905,4170.228895454018,7322.737522129255,11627.114413375464,5522.032999477825,7621.747520628592,8436.27149551299,4498.639396512979,2763.673409118203,4972.395210093469,4921.615804371236,7259.375192456776,7589.253588237534,7911.590906852329,6161.657034010477,5568.985843479152,7288.53027619721,3915.0993429229557,3487.9751691972997,8398.652613624483,5022.143311195829,4149.520908482341,6179.381365004455,3582.833225412661,5151.883210269159,5166.104676872201,4874.7463499967735,3833.1058986526114,6419.596363155744,14710.007716087415,22435.32442650366,34687.16179867043,31883.479850163618,24795.706650617038,18948.63328160213,19104.4904215282,21316.296097161947,22487.154954484427,22703.214290872198,21576.69911705036,26654.297897398275,21653.547618732904,23319.97729459412,17251.51922611645,18026.013665603772,11098.12719386576,11133.150175551782,15191.833069054928,10158.934001791567,8669.921260407702,5717.631907029511,5593.518483047125,7099.599580774834,5063.363747157485,5653.843813198849,6300.092902357324,8378.095161182007,5022.746103990406,5310.231648807746,8716.009721493563,4373.2248209901145,4367.074240383952,8911.953427087614,6214.2907889539965,8297.202876742827,7814.93645164015,6723.538035792236,5305.9608277896705,7219.778617095199,8420.260911050327,5688.721334406934,4117.354991323586,7767.803468794476,7194.9952619043315,6216.1056963886895,5553.802037859864,4303.932426104094,4394.528929737776,6176.924398332557,3789.772564392656,4382.720035820634,6859.466908929158,5117.716279716976,4715.090315718842,5369.76443445586,6503.238188574243,4730.699204096063,3167.7810415263193,5823.376735301725,3139.919531258396,4398.442839232661,8147.385655631162,11681.392514092742,18748.609879458672,22253.903366145907,19897.657551208136,15487.261375485636,17727.23118825005,10519.656752968549,10802.180719401105,13020.875257287056,9839.422771562538,8964.543841669305,8263.503012618003,4807.835053385274,8086.4102295310995,6724.0704543134825,7834.396847489268,9350.112946572239,9762.577239479757,9118.664009034968,8207.516847098608,9765.174663598653,8415.684646991102,7943.662705418362,10216.141150593678,5849.3937644971875,6480.774830561585,7499.479089410908,4342.230547117688,5388.424633319517,8072.061128167248,7349.362047632427,6246.0895746855585,6559.3782456338295,9294.565618297858,8022.585524752505,8582.583852430427,9702.108415614251,7857.154631324079,7093.97078748714,9639.658609862166,7318.983198608915,4770.180467721329,7477.829893568322,6543.629330940809,7364.723639292565,9639.51342949334,8895.304055028055,8027.582322083524,5383.275755865199,5381.519350305477,3679.21654374111,4044.2931149659903,7563.8149947391175,5324.4372846568895,6121.090070114771,8101.739018600259,4637.235678531825,4577.839652036259,7489.005151443915,7584.597069600273,6480.366410151306,9515.150794266852,15172.975979763507,24995.182489125706,34700.88020597447,36073.88994873169,34049.906823873076,30903.045606874784,30543.120357604606,29968.555790948027,29715.421501690555,29436.527137699864,29168.358599754898,28466.730863501434,21681.915512303098,21000.328050910895,18416.49767726445,17707.5238507036,13945.067228359381,12108.526961167128,13638.8641678904,13950.227040067792,14076.4448221159,10627.192965620545,9562.067935593586,10994.573335749496,9067.855389424936,8999.503919849029,9788.966983855322,10354.089052638705,9059.852804040403,10086.74598635702,10606.394206514762,6111.108934650511,4568.3985500506915,7002.0782050121015,7894.883638941346,9988.548240473672,9293.054721497994,5713.0824720074825,7246.997986566061,10162.59816303026,9924.939240665894,9659.82941659355,11443.146989903045,11149.72211312122,8974.292198754447,9174.265430229905,10290.235246818847,6013.324602917175,4945.848930035003,7577.0466312389735,5109.37388625557,5788.024956788359,9040.77012724705,7483.780751432407,7781.4067489737445,8940.115487140365,8049.081219365899,5244.881683658863,4852.090307079409,6233.5852142915255,4074.9584782985094,4876.052494393449,8634.426825074495,9226.317796664487,14351.594225459712,20041.026799437604,17985.533751840074,15646.29747651252,15478.45666539829,16190.93524224062,18264.705649920026,17475.470511265186,14077.544379687608,12702.874676035499,8539.494995886776,6763.079477428464,10334.772069730549,10752.955377489749,8144.292668362354,6743.970920107433,8072.482074679073,8821.404502403342,10349.491554367589,11389.205323802693,8457.207714653547,6751.00458162896,8827.413381391942,7694.094563758956,7337.475707941134,8660.427611936198,6141.239219254517,7691.5783781781765,11336.059998424762,11589.851367486264,9940.466744859861,11315.352922984288,9101.404383933474,8609.07357950551,8330.001879811123,6619.700452583718,5334.907908395895,4121.5068794861345,4416.787103046567]},\"total_iterations\":4413,\"dps\":{\"sum\":46424415.857539885,\"count\":4413,\"mean\":10519.922016211169,\"min\":9632.607874532654,\"max\":11789.709078954571,\"median\":10488.526853247648,\"variance\":126697.1055281189,\"std_dev\":355.9453687409332,\"mean_variance\":28.709971794271222,\"mean_std_dev\":5.3581686978174945},\"dpse\":{\"sum\":46424415.85753991,\"count\":4413,\"mean\":10519.922016211172,\"min\":9632.607874532654,\"max\":11789.709078954571},\"target_metric\":{\"sum\":46350422.07102253,\"count\":4413,\"mean\":10519.841595783599,\"min\":9632.607874532654,\"max\":11789.709078954571,\"median\":0.0,\"variance\":126737.31051955752,\"std_dev\":356.00184061259785,\"mean_variance\":28.76470960498355,\"mean_std_dev\":5.363274149713359},\"buffed_stats\":{\"attribute\":{\"strength\":192.0,\"agility\":361.0,\"stamina\":3197.0,\"intellect\":2268.0},\"resources\":{\"mana\":50000.0,\"soul_shard\":5.0},\"stats\":{\"spell_power\":2268.0,\"spell_crit\":0.20457142817395918,\"attack_crit\":0.20457142817395918,\"spell_haste\":0.8038976861790306,\"attack_haste\":0.8038976861790306,\"spell_speed\":0.8038976861790306,\"attack_speed\":0.8038976861790306,\"mastery_value\":0.6071428560959184,\"damage_versatility\":0.070249999824375,\"heal_versatility\":0.070249999824375,\"mitigation_versatility\":0.035124999907796876,\"crit_rating\":541.0,\"crit_pct\":0.20457142817395918,\"haste_rating\":805.0,\"haste_pct\":0.24393939327410474,\"mastery_rating\":570.0,\"mastery_pct\":0.6071428560959184,\"versatility_rating\":281.0,\"versatility_pct\":0.070249999824375,\"speed_pct\":7.0,\"manareg_per_second\":500.0,\"armor\":435.0,\"dodge\":0.03}}},\"gear\":{\"head\":{\"name\":\"hood_of_vengeful_possession\",\"encoded_item\":\"hood_of_vengeful_possession,id=186287,bonus_id=1498/7187,gem_id=187312\",\"ilevel\":252,\"intellect\":104,\"stamina\":205,\"crit_rating\":55,\"haste_rating\":105},\"neck\":{\"name\":\"interplanar_keystone\",\"encoded_item\":\"interplanar_keystone,id=186379,bonus_id=1498/7187/6935,gem_id=173130\",\"ilevel\":259,\"stamina\":125,\"crit_rating\":72,\"haste_rating\":197},\"shoulders\":{\"name\":\"frame_of_the_false_margrave\",\"encoded_item\":\"frame_of_the_false_margrave,id=186324,bonus_id=1498/7187,gem_id=187315\",\"ilevel\":259,\"intellect\":83,\"stamina\":167,\"haste_rating\":37,\"versatility_rating\":87},\"chest\":{\"name\":\"sacrificers_sacramental_cassock\",\"encoded_item\":\"sacrificers_sacramental_cassock,id=186282,bonus_id=1498/7187,gem_id=187318,enchant=eternal_stats\",\"ilevel\":252,\"intellect\":104,\"stamina\":205,\"haste_rating\":112,\"mastery_rating\":48},\"waist\":{\"name\":\"sash_of_duplicitous_magics\",\"encoded_item\":\"sash_of_duplicitous_magics,id=186322,bonus_id=1498/7187,gem_id=187320\",\"ilevel\":259,\"intellect\":83,\"stamina\":167,\"crit_rating\":42,\"versatility_rating\":82},\"legs\":{\"name\":\"purge_protocol_legwraps\",\"encoded_item\":\"purge_protocol_legwraps,id=180107,bonus_id=1566/6536/6646\",\"ilevel\":252,\"intellect\":104,\"stamina\":205,\"haste_rating\":56,\"mastery_rating\":104},\"feet\":{\"name\":\"sandals_of_sacred_symmetry\",\"encoded_item\":\"sandals_of_sacred_symmetry,id=186354,bonus_id=1498/7187\",\"ilevel\":252,\"intellect\":78,\"stamina\":153,\"haste_rating\":39,\"mastery_rating\":81},\"wrists\":{\"name\":\"desecrators_keening_wristwraps\",\"encoded_item\":\"desecrators_keening_wristwraps,id=186321,bonus_id=1498/7187,gem_id=187319,enchant=eternal_intellect\",\"ilevel\":259,\"intellect\":62,\"stamina\":125,\"versatility_rating\":66,\"mastery_rating\":27},\"hands\":{\"name\":\"grimveiled_mittens\",\"encoded_item\":\"grimveiled_mittens,id=173244,bonus_id=7031/6649/6648/1559\",\"ilevel\":262,\"intellect\":85,\"stamina\":173,\"haste_rating\":63,\"mastery_rating\":63},\"finger1\":{\"name\":\"tarnished_insignia_of_quelthalas\",\"encoded_item\":\"tarnished_insignia_of_quelthalas,id=186377,bonus_id=1498/7187/6935,gem_id=173130,enchant=tenet_of_mastery\",\"ilevel\":259,\"stamina\":125,\"crit_rating\":222,\"versatility_rating\":46},\"finger2\":{\"name\":\"sworn_oath_of_the_nine\",\"encoded_item\":\"sworn_oath_of_the_nine,id=186290,bonus_id=1498/7187/6935,gem_id=173130,enchant=tenet_of_mastery\",\"ilevel\":252,\"stamina\":115,\"haste_rating\":196,\"mastery_rating\":61},\"trinket1\":{\"name\":\"soulletting_ruby\",\"encoded_item\":\"soulletting_ruby,id=178809,bonus_id=1566/6536/6646\",\"ilevel\":252,\"intellect\":98},\"trinket2\":{\"name\":\"forbidden_necromantic_tome\",\"encoded_item\":\"forbidden_necromantic_tome,id=186421,bonus_id=1498/7187\",\"ilevel\":259,\"intellect\":105},\"back\":{\"name\":\"cloak_of_scarred_honor\",\"encoded_item\":\"cloak_of_scarred_honor,id=186289,bonus_id=1498/7187\",\"ilevel\":252,\"stamina\":115,\"crit_rating\":60,\"mastery_rating\":30,\"stragiint\":58},\"main_hand\":{\"name\":\"maledict_opus\",\"encoded_item\":\"maledict_opus,id=186406,bonus_id=1498/7187,enchant=celestial_guidance\",\"ilevel\":259,\"intellect\":381,\"stamina\":222,\"crit_rating\":90,\"mastery_rating\":76}},\"custom\":{}}],\"profilesets\":{\"metric\":\"Damage per Second\",\"results\":[{\"name\":\"2302011\",\"mean\":9348.110352323416,\"min\":8625.896087192663,\"max\":10410.538560134672,\"stddev\":255.24255061899788,\"mean_stddev\":4.731584292061566,\"mean_error\":9.273734806367047,\"median\":9330.132442768954,\"first_quartile\":9170.239250870362,\"third_quartile\":9515.78003926093,\"iterations\":2910},{\"name\":\"1101011\",\"mean\":8395.084044565907,\"min\":7700.670837672594,\"max\":9192.216439066591,\"stddev\":217.24829040295643,\"mean_stddev\":4.253234499929021,\"mean_error\":8.336186441359434,\"median\":8389.766639603224,\"first_quartile\":8244.538406191194,\"third_quartile\":8540.687169842337,\"iterations\":2609},{\"name\":\"2201021\",\"mean\":8267.031220210994,\"min\":7492.089175870579,\"max\":9074.084176945267,\"stddev\":217.97217037563047,\"mean_stddev\":4.185585385759484,\"mean_error\":8.203596613942327,\"median\":8254.252126785199,\"first_quartile\":8117.4883221608225,\"third_quartile\":8406.470277557652,\"iterations\":2712},{\"name\":\"1302011\",\"mean\":9436.293897269707,\"min\":8662.376969075642,\"max\":10443.476541421565,\"stddev\":258.7733931470055,\"mean_stddev\":4.797862084074333,\"mean_error\":9.40363689174449,\"median\":9427.02514480588,\"first_quartile\":9255.199235650176,\"third_quartile\":9604.543541647961,\"iterations\":2909},{\"name\":\"2101011\",\"mean\":8343.505626583146,\"min\":7631.482207193938,\"max\":9117.740386866864,\"stddev\":209.1992272379691,\"mean_stddev\":4.171488793972238,\"mean_error\":8.175967801722317,\"median\":8334.386570660685,\"first_quartile\":8200.344552130773,\"third_quartile\":8479.046641823175,\"iterations\":2515},{\"name\":\"3201021\",\"mean\":8778.888300276469,\"min\":7958.86432202177,\"max\":9634.01621404232,\"stddev\":233.08418392672482,\"mean_stddev\":4.398597808042757,\"mean_error\":8.621093290062252,\"median\":8764.214421644829,\"first_quartile\":8617.122360988953,\"third_quartile\":8924.955356731632,\"iterations\":2808},{\"name\":\"3101011\",\"mean\":8860.848271336497,\"min\":8163.977339378232,\"max\":9711.366426108174,\"stddev\":237.00719859609842,\"mean_stddev\":4.468653399145637,\"mean_error\":8.758399725600428,\"median\":8848.590602672273,\"first_quartile\":8697.590425905375,\"third_quartile\":9010.01647720735,\"iterations\":2813},{\"name\":\"1102011\",\"mean\":9061.988678013886,\"min\":8443.06840840795,\"max\":9927.169465496736,\"stddev\":232.89866063087422,\"mean_stddev\":4.558760087344746,\"mean_error\":8.93500558931515,\"median\":9053.185625385151,\"first_quartile\":8898.179443969206,\"third_quartile\":9210.765059137324,\"iterations\":2610},{\"name\":\"2301011\",\"mean\":8664.612494187057,\"min\":7983.028935030608,\"max\":9479.759358454601,\"stddev\":223.43136126893745,\"mean_stddev\":4.375123714223245,\"mean_error\":8.5750849115859,\"median\":8650.860763446044,\"first_quartile\":8513.57982813922,\"third_quartile\":8816.211048108471,\"iterations\":2608},{\"name\":\"1201011\",\"mean\":8196.435666100384,\"min\":7315.453770143059,\"max\":9085.73465089243,\"stddev\":223.7182148149421,\"mean_stddev\":4.146486372919296,\"mean_error\":8.12696395691052,\"median\":8185.185399507572,\"first_quartile\":8042.874631906581,\"third_quartile\":8345.50786670601,\"iterations\":2911},{\"name\":\"2102011\",\"mean\":9044.94676199114,\"min\":8401.47492926249,\"max\":9998.287324229064,\"stddev\":225.31869296179002,\"mean_stddev\":4.58404379694268,\"mean_error\":8.984560749544636,\"median\":9029.730551940866,\"first_quartile\":8894.885422842744,\"third_quartile\":9188.61433239651,\"iterations\":2416},{\"name\":\"1301011\",\"mean\":8741.462968857615,\"min\":7845.534208539364,\"max\":9699.512959054615,\"stddev\":239.24709107113813,\"mean_stddev\":4.436591726059759,\"mean_error\":8.695560001040153,\"median\":8728.131590666151,\"first_quartile\":8576.911133563728,\"third_quartile\":8894.498084473915,\"iterations\":2908},{\"name\":\"1302021\",\"mean\":9475.515851077593,\"min\":8496.25614935419,\"max\":10644.624160281552,\"stddev\":254.6747629988911,\"mean_stddev\":4.804329116460215,\"mean_error\":9.416312042313294,\"median\":9461.587617451452,\"first_quartile\":9304.725780448533,\"third_quartile\":9631.506085127623,\"iterations\":2810},{\"name\":\"2101021\",\"mean\":8456.54353591747,\"min\":7735.735979043892,\"max\":9188.679676344802,\"stddev\":205.42779868334918,\"mean_stddev\":4.276035579106076,\"mean_error\":8.38087573537492,\"median\":8446.678273944091,\"first_quartile\":8312.969590138122,\"third_quartile\":8586.929302479375,\"iterations\":2308},{\"name\":\"2201011\",\"mean\":8176.38745715979,\"min\":7579.57569778388,\"max\":9022.498000575015,\"stddev\":206.32749635587692,\"mean_stddev\":4.116681718666662,\"mean_error\":8.068547907977795,\"median\":8166.344002043587,\"first_quartile\":8042.285159934357,\"third_quartile\":8307.194581342817,\"iterations\":2512},{\"name\":\"3101021\",\"mean\":8853.733739176167,\"min\":8121.58436471561,\"max\":9691.928230400748,\"stddev\":231.46587056004512,\"mean_stddev\":4.447156993879293,\"mean_error\":8.71626754546264,\"median\":8837.927171877818,\"first_quartile\":8691.10259868798,\"third_quartile\":9008.59857470138,\"iterations\":2709},{\"name\":\"3201011\",\"mean\":8794.222810364505,\"min\":7961.208229364176,\"max\":9700.274405411537,\"stddev\":233.27211239043731,\"mean_stddev\":4.400577381200654,\"mean_error\":8.624973182158213,\"median\":8784.343798125494,\"first_quartile\":8632.14925486646,\"third_quartile\":8950.157729010281,\"iterations\":2810},{\"name\":\"3301011\",\"mean\":9055.511245542431,\"min\":8375.870883205433,\"max\":10001.732123982953,\"stddev\":251.42656367452634,\"mean_stddev\":4.5797264257194295,\"mean_error\":8.976098857435424,\"median\":9044.548847560207,\"first_quartile\":8880.733036294812,\"third_quartile\":9224.656183263929,\"iterations\":3014},{\"name\":\"3102011\",\"mean\":9476.46282325398,\"min\":8780.733793967647,\"max\":10539.129490916353,\"stddev\":234.1665747279766,\"mean_stddev\":4.771958543281899,\"mean_error\":9.352866884696752,\"median\":9462.428317965023,\"first_quartile\":9314.4623303369,\"third_quartile\":9622.191276279775,\"iterations\":2408},{\"name\":\"2103021\",\"mean\":8887.905370937871,\"min\":7957.235534470752,\"max\":9675.647484262805,\"stddev\":240.1987539812706,\"mean_stddev\":4.454239337883119,\"mean_error\":8.730148684642415,\"median\":8876.385837676424,\"first_quartile\":8721.007713984747,\"third_quartile\":9042.431463202007,\"iterations\":2908},{\"name\":\"2203011\",\"mean\":8592.541710254922,\"min\":7737.897578138374,\"max\":9559.47309633404,\"stddev\":251.58180122821682,\"mean_stddev\":4.372856495505218,\"mean_error\":8.570641244551522,\"median\":8584.986203993263,\"first_quartile\":8414.64991494693,\"third_quartile\":8756.66635921836,\"iterations\":3310},{\"name\":\"1202011\",\"mean\":8887.954899437842,\"min\":8281.55519893821,\"max\":9759.592702323727,\"stddev\":226.220213458435,\"mean_stddev\":4.514483306973745,\"mean_error\":8.848224694398128,\"median\":8877.972309543582,\"first_quartile\":8726.612129866638,\"third_quartile\":9033.310834678648,\"iterations\":2511},{\"name\":\"1203011\",\"mean\":8626.501892055547,\"min\":7774.198807508232,\"max\":9718.925378334605,\"stddev\":262.6359111068747,\"mean_stddev\":4.368174281874451,\"mean_error\":8.561464274463228,\"median\":8616.718961066623,\"first_quartile\":8445.164409116005,\"third_quartile\":8803.14048692947,\"iterations\":3615},{\"name\":\"2202011\",\"mean\":8881.204708610921,\"min\":8255.964776638124,\"max\":9655.363347966311,\"stddev\":222.04289235578236,\"mean_stddev\":4.522080307242677,\"mean_error\":8.863114541322377,\"median\":8873.946558341064,\"first_quartile\":8726.781699646748,\"third_quartile\":9029.18064768334,\"iterations\":2411},{\"name\":\"3202011\",\"mean\":9396.319610607565,\"min\":8651.718419378669,\"max\":10433.962471749706,\"stddev\":233.74699586086132,\"mean_stddev\":4.7594567673795005,\"mean_error\":9.328363854174398,\"median\":9382.834506300655,\"first_quartile\":9230.375382052895,\"third_quartile\":9546.230238668231,\"iterations\":2412},{\"name\":\"3302011\",\"mean\":9689.093480321026,\"min\":8899.557798406893,\"max\":10730.291851046863,\"stddev\":256.86556672538836,\"mean_stddev\":4.844795693419537,\"mean_error\":9.495625075766341,\"median\":9674.71765572746,\"first_quartile\":9514.656270387835,\"third_quartile\":9852.134374815003,\"iterations\":2811},{\"name\":\"1103011\",\"mean\":8802.89931798352,\"min\":7989.927943431715,\"max\":9973.261221136358,\"stddev\":257.58143726414204,\"mean_stddev\":4.473761170590301,\"mean_error\":8.768410773677669,\"median\":8788.824869908904,\"first_quartile\":8633.252517712608,\"third_quartile\":8965.28957178707,\"iterations\":3315},{\"name\":\"2203021\",\"mean\":8716.526842458354,\"min\":7914.663733465756,\"max\":9619.560386354007,\"stddev\":250.24467699347932,\"mean_stddev\":4.415471439550966,\"mean_error\":8.654165000121404,\"median\":8707.92399022987,\"first_quartile\":8541.468747328212,\"third_quartile\":8878.7235064765,\"iterations\":3212},{\"name\":\"1202021\",\"mean\":8975.087385541963,\"min\":8214.18058169624,\"max\":9848.682338995408,\"stddev\":232.94010086424308,\"mean_stddev\":4.5604449709366355,\"mean_error\":8.93830790047486,\"median\":8960.035460769644,\"first_quartile\":8813.133304642675,\"third_quartile\":9122.998764280566,\"iterations\":2609},{\"name\":\"2103011\",\"mean\":8760.565929791672,\"min\":7992.827589028914,\"max\":9621.22630671716,\"stddev\":241.2827341593507,\"mean_stddev\":4.395686183147542,\"mean_error\":8.615386610128612,\"median\":8751.137024252215,\"first_quartile\":8592.631138546136,\"third_quartile\":8918.384648232754,\"iterations\":3013},{\"name\":\"3103011\",\"mean\":9227.568328939355,\"min\":8487.350000047581,\"max\":10243.247703370764,\"stddev\":265.4407782004199,\"mean_stddev\":4.686519863668297,\"mean_error\":9.185410149693205,\"median\":9214.409776367873,\"first_quartile\":9035.95211655308,\"third_quartile\":9400.803632058884,\"iterations\":3208},{\"name\":\"3203011\",\"mean\":9152.500197803287,\"min\":8335.006440477748,\"max\":10393.66709984958,\"stddev\":277.4427701311339,\"mean_stddev\":4.616358638733093,\"mean_error\":9.047896675648031,\"median\":9146.068436076266,\"first_quartile\":8956.95459634743,\"third_quartile\":9335.181725831044,\"iterations\":3612},{\"name\":\"1303011\",\"mean\":9076.907087154434,\"min\":8171.725978895856,\"max\":10401.169094757672,\"stddev\":270.5406719203886,\"mean_stddev\":4.566453147517405,\"mean_error\":8.950083710191143,\"median\":9064.345269202478,\"first_quartile\":8891.941846888345,\"third_quartile\":9251.895283350616,\"iterations\":3510},{\"name\":\"2303011\",\"mean\":9010.30568272738,\"min\":8215.033828291582,\"max\":10071.867354654356,\"stddev\":263.51118198527126,\"mean_stddev\":4.581590806059628,\"mean_error\":8.979752975757318,\"median\":8998.967777249374,\"first_quartile\":8827.882702785988,\"third_quartile\":9180.716559629258,\"iterations\":3308},{\"name\":\"3303011\",\"mean\":9353.605597171096,\"min\":8487.26307271693,\"max\":10774.577164254559,\"stddev\":280.3929390708717,\"mean_stddev\":4.731401675102441,\"mean_error\":9.273376883704037,\"median\":9344.301461383171,\"first_quartile\":9163.82878568631,\"third_quartile\":9532.317244206028,\"iterations\":3512},{\"name\":\"2302021\",\"mean\":9400.722620649525,\"min\":8671.3921425519,\"max\":10421.71773108813,\"stddev\":254.04231317811733,\"mean_stddev\":4.7085258149825195,\"mean_error\":9.22854102173374,\"median\":9389.217859081728,\"first_quartile\":9220.427397458203,\"third_quartile\":9566.295511927614,\"iterations\":2911},{\"name\":\"1101021\",\"mean\":8494.874667690838,\"min\":7848.609045955778,\"max\":9373.863797095439,\"stddev\":219.8921510697556,\"mean_stddev\":4.305820629892917,\"mean_error\":8.439253362220702,\"median\":8482.48622463183,\"first_quartile\":8344.334695113192,\"third_quartile\":8638.02119096897,\"iterations\":2608},{\"name\":\"1201021\",\"mean\":8303.466042192707,\"min\":7608.6414330460575,\"max\":9233.491206052346,\"stddev\":220.99124478093088,\"mean_stddev\":4.167421327715435,\"mean_error\":8.167995714347118,\"median\":8291.08511539546,\"first_quartile\":8148.588425113031,\"third_quartile\":8454.080261317033,\"iterations\":2812},{\"name\":\"2102021\",\"mean\":9142.92702856591,\"min\":8433.966948753463,\"max\":9961.832459296542,\"stddev\":233.57008235690728,\"mean_stddev\":4.5727785962735545,\"mean_error\":8.962481361944747,\"median\":9129.33473145848,\"first_quartile\":8975.657561933634,\"third_quartile\":9291.32103217989,\"iterations\":2609},{\"name\":\"1301021\",\"mean\":8808.453852536393,\"min\":8074.072779638732,\"max\":9667.747559210798,\"stddev\":231.24921310222382,\"mean_stddev\":4.442174534834572,\"mean_error\":8.706502105176211,\"median\":8797.122973518593,\"first_quartile\":8649.794703622507,\"third_quartile\":8959.121928462839,\"iterations\":2710},{\"name\":\"1102021\",\"mean\":9160.641565938759,\"min\":8355.046395919419,\"max\":10068.51145767338,\"stddev\":240.33648006938955,\"mean_stddev\":4.615033455462526,\"mean_error\":9.045299364163654,\"median\":9150.79031146919,\"first_quartile\":8991.644364940252,\"third_quartile\":9314.797568328608,\"iterations\":2712},{\"name\":\"2301021\",\"mean\":8740.964316799838,\"min\":8032.839094135773,\"max\":9658.148391532204,\"stddev\":226.7660419378381,\"mean_stddev\":4.439570738132901,\"mean_error\":8.70139875741561,\"median\":8731.070770707838,\"first_quartile\":8583.00620038215,\"third_quartile\":8892.27046892792,\"iterations\":2609},{\"name\":\"3301021\",\"mean\":9013.051096669731,\"min\":8342.907219370809,\"max\":10104.712919088579,\"stddev\":250.75139838073963,\"mean_stddev\":4.569703117181154,\"mean_error\":8.956453533685764,\"median\":8999.816686672219,\"first_quartile\":8837.228415866763,\"third_quartile\":9175.398432511029,\"iterations\":3011},{\"name\":\"3102021\",\"mean\":9451.533759788961,\"min\":8703.495751050317,\"max\":10383.930951590113,\"stddev\":230.20166617806322,\"mean_stddev\":4.79171037832225,\"mean_error\":9.391579770021577,\"median\":9440.933664001097,\"first_quartile\":9288.806918865635,\"third_quartile\":9602.387715894505,\"iterations\":2308},{\"name\":\"1203021\",\"mean\":8740.801827440988,\"min\":7922.938225470418,\"max\":9699.192883408552,\"stddev\":262.66573449437476,\"mean_stddev\":4.434163854041512,\"mean_error\":8.690801459323207,\"median\":8737.294768835034,\"first_quartile\":8555.434043005864,\"third_quartile\":8906.358022643057,\"iterations\":3509},{\"name\":\"2202021\",\"mean\":8964.122937780787,\"min\":8293.027315595828,\"max\":9973.44769592521,\"stddev\":224.34363307252534,\"mean_stddev\":4.474361938581896,\"mean_error\":8.76958825730478,\"median\":8953.427210619911,\"first_quartile\":8809.806913739614,\"third_quartile\":9103.980464689426,\"iterations\":2514},{\"name\":\"3202021\",\"mean\":9383.518654419056,\"min\":8652.592271831008,\"max\":10249.21041519952,\"stddev\":237.02350889369885,\"mean_stddev\":4.727252350416595,\"mean_error\":9.265244356756012,\"median\":9369.316099940226,\"first_quartile\":9222.487090130384,\"third_quartile\":9532.262901756552,\"iterations\":2514},{\"name\":\"3302021\",\"mean\":9638.292743648537,\"min\":8901.142140545573,\"max\":10685.351533761446,\"stddev\":258.69877699600966,\"mean_stddev\":4.878504584087933,\"mean_error\":9.561693287464482,\"median\":9624.525634455455,\"first_quartile\":9458.75796212125,\"third_quartile\":9800.186625148031,\"iterations\":2812},{\"name\":\"1103021\",\"mean\":8907.849605446412,\"min\":8088.905941312497,\"max\":9835.26579503881,\"stddev\":243.08316031060792,\"mean_stddev\":4.503857401017854,\"mean_error\":8.82739830141224,\"median\":8895.322484321157,\"first_quartile\":8734.022054325382,\"third_quartile\":9066.420221453542,\"iterations\":2913},{\"name\":\"3103021\",\"mean\":9234.377208360336,\"min\":8464.856324555622,\"max\":10266.824214927641,\"stddev\":258.168149615043,\"mean_stddev\":4.628632031463738,\"mean_error\":9.071952083378875,\"median\":9219.399296007112,\"first_quartile\":9056.834018915799,\"third_quartile\":9400.481510518935,\"iterations\":3111}]},\"statistics\":{\"elapsed_cpu_seconds\":587.828125,\"elapsed_time_seconds\":82.4132094,\"init_time_seconds\":0.9560396,\"merge_time_seconds\":0.1565894,\"analyze_time_seconds\":0.239257,\"simulation_length\":{\"sum\":1327227.765000004,\"count\":4413,\"mean\":300.75408225696896,\"min\":240.013,\"max\":359.991,\"median\":300.587,\"variance\":1224.362354059177,\"std_dev\":34.99088958656492,\"mean_variance\":0.2774444491409873,\"mean_std_dev\":0.526729958461627},\"total_events_processed\":827451224,\"raid_dps\":{\"sum\":46424415.85753991,\"count\":4413,\"mean\":10519.922016211172},\"total_dmg\":{\"sum\":13947426592.944004,\"count\":4413,\"mean\":3160531.7455118974}}}}";
        try {
            Simulation sim = new Simulation("junit", WowClass.Warlock, WowSpec.Affliction, "", "");
            SimulationResult simulationResult = new SimulationController(new ConfigurationController(), null).convert(sim, json);
            Assert.assertEquals(51, simulationResult.profileResultList.size());
            System.out.println("OK");
        } catch (Exception e) {
            Assert.fail();
        }
    }
}